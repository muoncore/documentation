<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Getting Setup</title>
  <meta name="description" content="">

    <link rel="stylesheet" href="/css/foundation.css">

    <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/fontello.css">
  <link rel="stylesheet" href="/css/font-awesome.css">
  <script src="/javascripts/modernizr.foundation.js" type="text/javascript"></script>
    <script src="/javascripts/jquery-2.1.0.js" type="text/javascript"></script>
    <script src="/javascripts/terrific-1.1.1.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.url.js" type="text/javascript"></script>
    <script src="/javascripts/jquery.cookie.js" type="text/javascript"></script>
    <script src="/javascripts/json2.js" type="text/javascript"></script>
    <script src="/javascripts/foundation.js" type="text/javascript"></script>
  <script>
    // terrificjs bootstrap
    (function($) {
        $(document).ready(function() {
            var $page = $('body');
            var config = {
              dependencyPath: {
                plugin: 'javascripts/'
              }
            }
            var application = new Tc.Application($page, config);
            application.registerModules();
            application.start();
        });
    })(Tc.$);
  </script>
  <link href="http://fonts.googleapis.com/css?family=Raleway:400,700,300" media="screen" rel="stylesheet" type="text/css" />
  <script src="/javascripts/masonry.pkgd.js" type="text/javascript"></script>
  <script src="/javascripts/imagesloaded.pkgd.min.js" type="text/javascript"></script>
  <script src="/javascripts/slick.min.js" type="text/javascript"></script>

  <link rel="canonical" href="/guide/1-setup/">
  <link rel="alternate" type="application/rss+xml" title="Muon - Reactive APIs" href="/feed.xml" />
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
          <link rel="stylesheet" href="/css/asciidoc.css">
          <link rel="stylesheet" href="/css/producttable.css">
                  <style>
  @media only screen and (min-width:768px){#toctitle{font-size:1.375em}
      body.toc2{padding-left:15em;padding-right:0}
#toc {margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;right:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc >ul{font-size:.9em;margin-bottom:0}
#toc ul ul{margin-left:0;padding-left:1em}
#toc ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
  @media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc {width:20em}
#toc #toctitle{font-size:1.375em}
#toc >ul{font-size:.95em}
#toc ul ul{padding-left:1.25em}
      body.toc2.toc-right{padding-left:0;padding-right:20em}}

#toc { z-index:20; padding-top:120px;}
#documentation { padding-left:10px; margin-left:auto; margin-right:auto}
#documentation .row { margin:auto }
      code {
          background:none;
          border:0;
      }

      code span { border: 0; width:100% }
      .listingblock {
         background: #eee;
         border-radius:5px;
          border:1px solid #ccc
      }
  }

  div.documentation a.btn {
    margin-top:20px;
    background: #3498db;
    background-image: -webkit-linear-gradient(top, #3498db, #2980b9);
    background-image: -moz-linear-gradient(top, #3498db, #2980b9);
    background-image: -ms-linear-gradient(top, #3498db, #2980b9);
    background-image: -o-linear-gradient(top, #3498db, #2980b9);
    background-image: linear-gradient(to bottom, #3498db, #2980b9);
    -webkit-border-radius: 28;
    -moz-border-radius: 28;
    border-radius: 28px;
    font-family: Arial;
    color: #ffffff;
    font-size: 20px;
    padding: 10px 20px 10px 20px;
    text-decoration: none;
  }

  div.documentation a.btn:hover {
    background: #3cb0fd;
    background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);
    background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);
    background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);
    background-image: -o-linear-gradient(top, #3cb0fd, #3498db);
    background-image: linear-gradient(to bottom, #3cb0fd, #3498db);
    text-decoration: none;
  }

  </style>

  <link rel="stylesheet" href="/css/sidebar2.css">
</head>


  <body>
    
      <a id='top'></a>
<div class='contain-to-grid sticky fullwidth'>
  <nav class='top-bar onepage' data-options='sticky_on: large' data-topbar=''>
    <ul class='title-area'>
      <li class='name'>
        <h1>
          <a href="/">
            <img alt="" src="/images/muonlogo.png" style="width:50px; height:50px" /> Muon
          </a>
        </h1>
      </li>
      <li class='toggle-topbar menu-icon'>
        <a href='#'>Menu</a>
      </li>
    </ul>
    <span style="float:left">Reactive APIs for Microservices, Browser and More ...</span>
    <section class='top-bar-section'>
      <ul class='right'>
        
          
            <li>
              
                <a href="guide/index.html">Guides</a>
              

            </li>
          
        
          
            <li class="has-dropdown">
              <a href="/guide/index.html">Docs</a>
              <ul class='dropdown'>
                
                  <li>
                    <a href="/guide/index.html">Guides</a>
                  </li>
                
                  <li>
                    <a href="/submodules/cli/doc/index.html">CLI</a>
                  </li>
                
                  <li>
                    <a href="/submodules/java/doc/">Java</a>
                  </li>
                
                  <li>
                    <a href="/submodules/clojure/doc/index.html">Clojure</a>
                  </li>
                
                  <li>
                    <a href="/submodules/node/doc/index.html">Node.JS</a>
                  </li>
                
                  <li>
                    <a href="/submodules/muonjs/doc/index.html">Browser</a>
                  </li>
                
                  <li>
                    <a href="/submodules/photon/doc/index.html">Photon - Event Store</a>
                  </li>
                
              </ul>
            </li>
          
        
          
            <li>
              
                <a href="https://github.com/muoncore">Github</a>
              

            </li>
          
        
      </ul>
    </section>
  </nav>
</div>
<div class='full no-padding'>
  <!-- Begin MailChimp Signup Form -->
  <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
  <style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
         We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
  </style>
  <div id="mc_embed_signup">
    <form action="//simplicityitself.us9.list-manage.com/subscribe/post?u=fce1e12e8f44592cf75288e11&amp;id=98e2ce96d8" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
        <label for="mce-EMAIL">Get updated on new releases and features</label>
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_fce1e12e8f44592cf75288e11_98e2ce96d8" tabindex="-1" value=""></div>
        <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
      </div>
    </form>
  </div>
</div>

    

    <div id='main' role='main'>
      <div class="documentation">
<div class='full' style='background: #000'>
  <div class='row' style="margin-left:0; margin-right:0; max-width:100%">
    <div class='large-12 columns'>
      <div class='mod modBlogPost big'>
        <div class='images'>
          
        </div>
        <div class='content' style="font-size:1.2rem; max-width:80%">
          <h1>Guide: Getting Setup</h1>
<div id="toc" class="toc">
<div id="toctitle">Getting Started</div>
<ul class="sectlevel1">
<li><a href="#setting-up-your-environment">Setting up your Environment</a>
<ul class="sectlevel2">
<li><a href="#installing-the-base-services-using-docker-compose">Installing the Base Services using Docker Compose</a></li>
<li><a href="#installing-the-base-services-using-vagrant">Installing the Base Services using Vagrant</a></li>
<li><a href="#installing-the-cli">Installing the CLI</a></li>
</ul>
</li>
<li><a href="#building-a-multi-protocol-api">Building a multi protocol API</a>
<ul class="sectlevel2">
<li><a href="#muon-java-microservice">Muon Java Microservice</a>
<ul class="sectlevel3">
<li><a href="#create-the-build-file">Create the build file</a></li>
<li><a href="#create-muon-service-class">Create Muon Service class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This guide is maintained at <a href="https://github.com/muoncore/guide" class="bare">https://github.com/muoncore/guide</a> Please submit issues at that repository.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image right" style="float: right"><img src="https://upload.wikimedia.org/wikipedia/commons/8/8e/Best_Blueberry_Pie_with_Foolproof_Pie_Dough.jpg" alt="Blueberry" width="300"></span></p>
</div>
<div class="paragraph">
<p>Today, you will</p>
</div>
<div class="ulist">
<ul>
<li>
<p>get a development environment setup, including the cli</p>
</li>
<li>
<p>See some helper services we provide to make things easier</p>
</li>
<li>
<p>build a couple of microservices</p>
</li>
<li>
<p>have them do something useful</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::guide/1-setup/../12daypromo.adoc[]</p>
</div>
<div class="sect1">
<h2 id="setting-up-your-environment">Setting up your Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Muon is not demanding of you development environment. You can use your regular IDE, and your language and
frameworks of choice, so long as the language runtime is currently supported.</p>
</div>
<div class="paragraph">
<p>One thing that is necessary is support for the network transport that Muon services will use to communicate with
each other.</p>
</div>
<div class="paragraph">
<p>Currently, AMQP is best supported, and so that is what we will use.</p>
</div>
<div class="paragraph">
<p>Aside from that, you don&#8217;t need anything else to develop Muon services.</p>
</div>
<div class="paragraph">
<p>That said, we provide a set of Microservices that give a set of basic functionality that we find is often wanted.</p>
</div>
<div class="paragraph">
<p>These are (as of writing):-</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Photon - an Event Store and Projection engine</p>
</li>
<li>
<p>Molecule - a pluggable React based UI</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These, along with RabbitMQ, give the base environment we recommend for you to get started developing Muon services.</p>
</div>
<div class="paragraph">
<p>We provide two main routes to get them, a Docker Compose environment, and a Vagrant VM that wraps the Docker Compose environment.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">libMuon</div>
<div class="paragraph">
<p>If you language is not currently supported, come and join the libMuon effort!</p>
</div>
<div class="paragraph">
<p>This is implementing Muon in a native Rust library, with support for bindings into many other languages.</p>
</div>
<div class="paragraph">
<p>When complete, we will have very broad language capability, and full interoperability with the existing Muon
libraries and services.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/muoncore/libmuon" class="bare">https://github.com/muoncore/libmuon</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installing-the-base-services-using-docker-compose">Installing the Base Services using Docker Compose</h3>
<div class="paragraph">
<p>Go to <a href="https://github.com/muoncore/muon-starter" class="bare">https://github.com/muoncore/muon-starter</a> and follow the instructions there.</p>
</div>
<div class="paragraph">
<p>once complete, you will have the services running, you can check them with the CLI (installed below)
or by visiting the Molecule UI at <a href="http://localhost:3420" class="bare">http://localhost:3420</a></p>
</div>
</div>
<div class="sect2">
<h3 id="installing-the-base-services-using-vagrant">Installing the Base Services using Vagrant</h3>
<div class="paragraph">
<p><em>This is awaiting a stable vagrant build</em></p>
</div>
</div>
<div class="sect2">
<h3 id="installing-the-cli">Installing the CLI</h3>
<div class="paragraph">
<p>Muon provides a CLI. You install this using <strong>npm</strong>, from the Node.js environment.</p>
</div>
<div class="paragraph">
<p>You do not need to code in JavaScript or use node beyond this if you don&#8217;t want to, but it is currently required
to use the CLI.</p>
</div>
<div class="paragraph">
<p>Install NPM (as at <a href="https://www.npmjs.com/" class="bare">https://www.npmjs.com/</a>)</p>
</div>
<div class="paragraph">
<p>Then install muon using</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">&gt; npm install -g muon-cli</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check it&#8217;s working using the <code>discover</code> commmand, or it&#8217;s short version <code>d</code>. This will list
 all of the currently running Muon services.</p>
</div>
<div class="paragraph">
<p>You will need to set the MUON_URL environment variable first, which tells Muon how to connect to the
network transport/ discovery service. In this case, RabbitMQ</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>&gt; export MUON_URL=amqp://muon:microservices@localhost
&gt; muon d</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once this works, you have a running CLI, and you can begin to interrogate what the services can do.</p>
</div>
<div class="paragraph">
<p>Likely, you only have Photon and Molecule running.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s build some more!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-a-multi-protocol-api">Building a multi protocol API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We are building a Pie shop management system. We will start designing and building proper services
in the next section. Today though, we just want to get something running.</p>
</div>
<div class="paragraph">
<p>Often, the easiest way to get started with a system is to define the <em>queries</em> that you need to make.
Without concerning yourself with changing data, we can effectively stub out the data we want to provide.</p>
</div>
<div class="paragraph">
<p>With Muon, we have the opportunity to incorporate multiple different protocols to make our API.</p>
</div>
<div class="paragraph">
<p>Built in, we can use RPC for simple request/ response, and Reactive Streaming, for streaming push updates.</p>
</div>
<div class="paragraph">
<p>For this API, we will build an API for the <em>Menu</em>.</p>
</div>
<div class="paragraph">
<p>This will be ultimately be made available on the web, on tabletop displays and wait staff mobile devices
(although we won&#8217;t build a mobile app in this tutorial!)</p>
</div>
<div class="paragraph">
<p>In this case, the data set is small, and so instead of providing granular APIs, we will request the entire
data set and process it in local memory to get the best performance and tolerate network failure.</p>
</div>
<div class="paragraph">
<p>We will provide two endpoints, one RPC and the other Stream. This will allow clients to get the current state,
and also receive push updates whenever we update the menu data</p>
</div>
<div class="sect2">
<h3 id="muon-java-microservice">Muon Java Microservice</h3>
<div class="paragraph">
<p>The Menu service, we will write in <em>Java</em>. To get started wth this, download Gradle.</p>
</div>
<div class="paragraph">
<p>Try using <a href="http://sdkman.io/">SDKMan</a></p>
</div>
<div class="sect3">
<h4 id="create-the-build-file">Create the build file</h4>
<div class="paragraph">
<p>Create a new Gradle build file as below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>buildscript {
    ext {
        springBootVersion = '1.4.2.RELEASE' <i class="conum" data-value="1"></i><b>(1)</b>
    }
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
    }
}

apply plugin: 'java'
apply plugin: 'org.springframework.boot'

sourceCompatibility = 1.8
version = '1.0'

springBoot {
    mainClass = 'pieshop.Menu'   <i class="conum" data-value="2"></i><b>(2)</b>
}

repositories {
    jcenter()
    maven { url 'https://simplicityitself.artifactoryonline.com/simplicityitself/muon' }  <i class="conum" data-value="3"></i><b>(3)</b>
}

dependencies {
    def muonVersion = "7.1.3"         <i class="conum" data-value="4"></i><b>(4)</b>
    compile "io.muoncore:muon-core:$muonVersion"
    compile "io.muoncore:muon-transport-amqp:$muonVersion"
    compile "io.muoncore:muon-discovery-amqp:$muonVersion"
    compile 'io.reactivex.rxjava2:rxjava:2.0.3'            <i class="conum" data-value="5"></i><b>(5)</b>
}

task wrapper(type: Wrapper) {
    gradleVersion = '3.2.1'
}</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We use the Spring Boot gradle plugin to give us easy uberjar and app distribution</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the main class for the spring boot plugin run command</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add the Artifactory url where the muon libraries can be found</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The latest version of Muon, with the basic libraries for connecting to AMQP.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The current version of RxJava, which we will use to build a streaming endpoint</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Create the standard file structure</p>
</div>
<div class="listingblock">
<div class="content">
<pre> src/
   main/
      java/</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="create-muon-service-class">Create Muon Service class</h4>
<div class="paragraph">
<p>To start with, we need a single class to put our Muon API in. Later in the series we will separate them
up.</p>
</div>
<div class="paragraph">
<p>Create the class referenced above <code>pieshop.Menu</code> as a regular Java class with a Main method.</p>
</div>
<div class="paragraph">
<p>like this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #008000; font-weight: bold">package</span> pieshop<span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">io.muoncore.Muon</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">io.muoncore.MuonBuilder</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">io.muoncore.config.AutoConfiguration</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">io.muoncore.config.MuonConfigBuilder</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">io.muoncore.protocol.reactivestream.server.PublisherLookup</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">io.reactivex.Flowable</span><span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">static</span> io<span style="color: #666666">.</span><span style="color: #7D9029">muoncore</span><span style="color: #666666">.</span><span style="color: #7D9029">protocol</span><span style="color: #666666">.</span><span style="color: #7D9029">requestresponse</span><span style="color: #666666">.</span><span style="color: #7D9029">server</span><span style="color: #666666">.</span><span style="color: #7D9029">HandlerPredicates</span><span style="color: #666666">.</span><span style="color: #7D9029">all</span><span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Menu</span> <span style="color: #666666">{</span>

  <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">main</span><span style="color: #666666">(</span>String<span style="color: #666666">[]</span> args<span style="color: #666666">)</span> <span style="color: #666666">{</span>
    AutoConfiguration config <span style="color: #666666">=</span>
      MuonConfigBuilder<span style="color: #666666">.</span><span style="color: #7D9029">withServiceIdentifier</span><span style="color: #666666">(</span>  <i class="conum" data-value="1"></i><b>(1)</b>
        <span style="color: #BA2121">&quot;menu&quot;</span><span style="color: #666666">).</span><span style="color: #7D9029">build</span><span style="color: #666666">();</span>

    Muon muon <span style="color: #666666">=</span> MuonBuilder<span style="color: #666666">.</span><span style="color: #7D9029">withConfig</span><span style="color: #666666">(</span>config<span style="color: #666666">).</span><span style="color: #7D9029">build</span><span style="color: #666666">();</span>  <i class="conum" data-value="2"></i><b>(2)</b>

    muon<span style="color: #666666">.</span><span style="color: #7D9029">handleRequest</span><span style="color: #666666">(</span>all<span style="color: #666666">(),</span> request <span style="color: #666666">-&gt;</span> <span style="color: #666666">{</span>              <i class="conum" data-value="3"></i><b>(3)</b>
      request<span style="color: #666666">.</span><span style="color: #7D9029">ok</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;hello world&quot;</span><span style="color: #666666">);</span>
    <span style="color: #666666">});</span>

    muon<span style="color: #666666">.</span><span style="color: #7D9029">publishSource</span><span style="color: #666666">(</span>                                 <i class="conum" data-value="4"></i><b>(4)</b>
      <span style="color: #BA2121">&quot;mysource&quot;</span><span style="color: #666666">,</span>
      PublisherLookup<span style="color: #666666">.</span><span style="color: #7D9029">PublisherType</span><span style="color: #666666">.</span><span style="color: #7D9029">HOT</span><span style="color: #666666">,</span>
      Flowable<span style="color: #666666">.</span><span style="color: #7D9029">just</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Hello&quot;</span><span style="color: #666666">,</span> <span style="color: #BA2121">&quot;World&quot;</span><span style="color: #666666">,</span> <span style="color: #BA2121">&quot;Item&quot;</span><span style="color: #666666">));</span>         <i class="conum" data-value="5"></i><b>(5)</b>
  <span style="color: #666666">}</span>
<span style="color: #666666">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Construct a configuration for Muon. Here using all the defaults and call the service <code>menu</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Using the configuration, build a running Muon instance</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Create an RPC protocol request handler. This uses <code>all()</code>, which matches any incoming request</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Create a new reactive streaming endpoint named <code>mysource</code></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Use an RxJava2 as the source for the endpoint.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This can be run using the <code>bootRun</code> command from the Spring Boot Gradle plugin</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>&gt; gradle bootRun</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can then make a request to the service using the CLI and recieve <code>hello world</code> in return</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>&gt; muon rpc rpc://menu/</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can subscribe to the stream endpoint like so</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; muon stream stream://menu/mysource
'Hello'
'World'
'Item'</pre>
</div>
</div>
<div class="paragraph">
<p>The subscription will request and print all items, then when the source <code>Flowable</code> sends the complete signal,
the cli will cleanly exit.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Make as a Common Build Tool</div>
<div class="paragraph">
<p>You will notice that all of the projects, including the starter above, use <code>Make</code> as the entry point.</p>
</div>
<div class="paragraph">
<p>This is by design. We are going to be crossing between multiple build tools, invoking various forms
of build, test, release, deploy and so on. Each tool has different requirements, and some of the phases
aren&#8217;t always necessary.</p>
</div>
<div class="paragraph">
<p>Remembering all of this will be a pain. So, we use make, and standardise the targets. This gives you somewhere
to start figuring out how the build tool doing the heavy lifting underneath wants to be run.</p>
</div>
<div class="paragraph">
<p><a href="http://daviddawson.me/blog/2016/11/03/make-developer-api.html">Read More @ daviddawson.me</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You now have a Muon environment ready to build services with. You will be building lots of them.</p>
</div>
<div class="paragraph">
<p>In the next episode of the series, you will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a set of microservices that form the API of the shop.</p>
</li>
<li>
<p>Understand how to use the two protocols above to service the data in different forms.</p>
</li>
</ul>
</div>
</div>
</div>

        </div>
      </div>

      <div class='four spacing'></div>
    </div>
  </div>
</div>
</div>

    </div>

    

  <!--End mc_embed_signup-->
<div class='full no-padding' style='background: #111'>
  <div class='two spacing'></div>
  <div class='row'>
    <div class='large-12 columns' style="color:white;">
      <p>©2017 Muon Core Ltd. All rights reserved.</p>
    </div>
  </div>
  <div class='spacing'></div>
</div>


<script src="/javascripts/jquery.countTo.js" type="text/javascript"></script>
<script src="/javascripts/jquery.appear.js" type="text/javascript"></script>
<script src="/javascripts/jquery.validate.js" type="text/javascript"></script>
<script src="/javascripts/jquery.sequence-min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.easing.1.3.js" type="text/javascript"></script>
<script src="/javascripts/app.js" type="text/javascript"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75338923-1', 'auto');
  ga('require', 'linkid');
  ga('send', 'pageview');

</script>


  </body>

</html>
